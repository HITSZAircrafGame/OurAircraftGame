# 飞机大作战仓库

## github使用教程     

1. 新建一个空文件夹`AircraftGame`，在空文件夹下单击鼠标右键，在菜单中打开`git Bash`

2. 如果这是你第一次在这个文件夹下打开git bash，你需要先把当前文件夹初始化为一个仓库，才能进行git 操作。在git bash中的命令行输入`git init`  
   
3. git init后你已经有一个git管理的仓库了。此时你需要使用`git clone 远程仓库地址`,把github上的远程仓库克隆到本地。使用该条指令后，你原本的空文件夹就会出现远程仓库的文件了，这里的文件默认是master分支的文件。
   
4. 接着需要与我们的远程仓库相关联，输入`git remote add origin 远程仓库地址(仓库中Code按钮的那个)`。之后输入`git remote -v`,检查是否成功关联。如果成功关联，这样你本地的仓库就已经与远程仓库关联起来了，此时可以进行push和pull了。

5. 现在你已经在本地有一个与远程仓库一样git仓库，赶紧在当前仓库中进行开发吧。在AS中打开这个`AircraftGame`文件夹，正常的编写代码即可。

6. 当你写文代码后，你需要先将代码提交到本地仓库。
  > * 在git bash中输入`git add .`，表示把全部修改过的文件提交到暂存区
  > * 之后输入`git commit -m "说明信息"`，把暂存区里面的东西提交到本地仓库。一定要记得commit哦，不然你的代码没办法放入仓库中。而且commit的注释要清晰，好的commit关系到开发的合作能否顺利进行
  > * 可以使用`git status`查看仓库的状态，红色为没用add的文件，绿色为add了但没有commit的文件
  > * 写完代码一定要add和commit，不然代码丢了就再也找不回来了
7. 好了，现在已经把代码都放到本地仓库了，此时只需要往远程仓库中推送了。在推送前先输入`git pull`，更新一下本地仓库，防止出现冲突。之后输入`git push`就好了。由于网络问题，这个过程可能需要花一点点实践，如果出现超时的错误，关掉git bash重新打开，再试一遍。
    + 第一次push使用`git push -u origin master`   
    + 切记不要手动上传，不然会强制覆盖仓库的代码
  
8. 再push的过程中可能会出现merge conflict(分支冲突)，这是由于远程仓库比本地仓库分支超前引起的。一般使用git pull自动合并远程与本地仓库即可。如果仍然报错，则输入`git reset --hard HEAD`,然后call我一声。reset前一定要add和commit，不然代码会丢掉并且彻底找不回来了。

9.  git的更多功能就在实践中慢慢探索吧。

## 可能需要用到的网站
* [查指令的网站](https://www.runoob.com/)
* [git教程(当说明书用就好)](https://www.liaoxuefeng.com/wiki/896043488029600)

##  联网对战使用说明   
飞机大战小游戏的联网对战功能是基于局域网实现的
* 服务器程序  详见AircraftServer仓库的使用说明。把服务器代码拉到本地后，直接启动服务器即可，注意控制台Run中会打印本机的IP地址，这个IP地址就是服务器在局域网下的IP地址。
* 飞机大战程序，在使用联网对战前，需要修改`app/src/com..../GameActivity`下的源代码，把`socket.connect(new InetAddress("本机IP地址",1111)，5000)`这条代码中的本机IP换成你自己的IP地址，这个IP地址只要运行服务器程序，就会在服务器程序端的控制台打印，一般来说是以192.168.xxx开头
* 上述步骤的联网对战功能只能在本地电脑实现，如果想让在同一局域网(wifi)下的两台设备实现联网对战，需要把IP地址更改为局域网下服务器(你的手提电脑)的IP地址。获取IP地址的步骤如下
  >  1. 命令行输入ipconfig，查看IP地址
  >  2. 只需要关注无限局域网适配器 wlan下面的IPV4，其他不用管，这个IPV4就是你的服务器在局域网下的IP地址
  >  3. 部分局域网有限制，用上述方法获取的IP地址可能仍然没法联通，此时你可以开启手机热点让服务器和客户端设备都连你的手机热点，再用上述方法获取IP地址。一般来说校园网，公司内网之类的应该是没办法进行联网对战的。家用wifi大概不会有问题。